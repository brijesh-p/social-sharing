"use strict";function hexToRgb(t){var e=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t);return e?{r:parseInt(e[1],16),g:parseInt(e[2],16),b:parseInt(e[3],16)}:null}var copyObject=function(t){return JSON.parse(JSON.stringify(t))},updateObject=function(t,e){for(var o in t)t.hasOwnProperty(o)&&("object"==typeof o&&e.hasOwnProperty(o)?updateObject(t[o],e[o]):e[o]=t[o])},getContentByMetaTagName=function(t,e){for(var o=document.getElementsByTagName("meta"),n=0;n<o.length;n++)if(t===o[n].name||t===o[n].getAttribute(e))return o[n].content;return!1},body=document.body,images=document.getElementsByTagName("img"),buttonContainer,greyscaleWeight=.333,backDrop,pinterestSvg='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"><g><path d="M7 13.252c0 1.81.772 4.45 2.895 5.045.074.014.178.04.252.04.49 0 .772-1.27.772-1.63 0-.428-1.174-1.34-1.174-3.123 0-3.705 3.028-6.33 6.947-6.33 3.37 0 5.863 1.782 5.863 5.058 0 2.446-1.054 7.035-4.468 7.035-1.232 0-2.286-.83-2.286-2.018 0-1.742 1.307-3.43 1.307-5.225 0-1.092-.67-1.977-1.916-1.977-1.692 0-2.732 1.77-2.732 3.165 0 .774.104 1.63.476 2.336-.683 2.736-2.08 6.814-2.08 9.633 0 .87.135 1.728.224 2.6l.134.137.207-.07c2.494-3.178 2.405-3.8 3.533-7.96.61 1.077 2.182 1.658 3.43 1.658 5.254 0 7.614-4.77 7.614-9.067C26 7.987 21.755 5 17.094 5 12.017 5 7 8.15 7 13.252z" fill-rule="evenodd"></path></g></svg>',templates={facebook:'<a role="button" onclick="openFacebook()" tabindex="1"><span class="share_wrapper">Share to Facebook</span><span class="icon_wrapper"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"><g><path d="M22 5.16c-.406-.054-1.806-.16-3.43-.16-3.4 0-5.733 1.825-5.733 5.17v2.882H9v3.913h3.837V27h4.604V16.965h3.823l.587-3.913h-4.41v-2.5c0-1.123.347-1.903 2.198-1.903H22V5.16z" fill-rule="evenodd"></path></g></svg><div><span class="count_wrapper">, Number of shares</span></div></span></a>',twitter:'<a role="button" onclick="openTwitter()" tabindex="1"><span class="share_wrapper">Share to Twitter</span><span class="icon_wrapper"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"><g><path d="M27.996 10.116c-.81.36-1.68.602-2.592.71a4.526 4.526 0 0 0 1.984-2.496 9.037 9.037 0 0 1-2.866 1.095 4.513 4.513 0 0 0-7.69 4.116 12.81 12.81 0 0 1-9.3-4.715 4.49 4.49 0 0 0-.612 2.27 4.51 4.51 0 0 0 2.008 3.755 4.495 4.495 0 0 1-2.044-.564v.057a4.515 4.515 0 0 0 3.62 4.425 4.52 4.52 0 0 1-2.04.077 4.517 4.517 0 0 0 4.217 3.134 9.055 9.055 0 0 1-5.604 1.93A9.18 9.18 0 0 1 6 23.85a12.773 12.773 0 0 0 6.918 2.027c8.3 0 12.84-6.876 12.84-12.84 0-.195-.005-.39-.014-.583a9.172 9.172 0 0 0 2.252-2.336" fill-rule="evenodd"></path></g></svg></span></a>',pinterest:'<a role="button" onclick="openPinterest()" tabindex="1"><span class="share_wrapper">Share to Pinterest</span><span class="icon_wrapper">'+pinterestSvg+"</span></a>",googleplus:'<a role="button" onclick="openGooglePlus()" tabindex="1"><span class="share_wrapper">Share to Google+</span><span class="icon_wrapper"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"><g><path d="M12 15v2.4h3.97c-.16 1.03-1.2 3.02-3.97 3.02-2.39 0-4.34-1.98-4.34-4.42s1.95-4.42 4.34-4.42c1.36 0 2.27.58 2.79 1.08l1.9-1.83C15.47 9.69 13.89 9 12 9c-3.87 0-7 3.13-7 7s3.13 7 7 7c4.04 0 6.72-2.84 6.72-6.84 0-.46-.05-.81-.11-1.16H12zm15 0h-2v-2h-2v2h-2v2h2v2h2v-2h2v-2z" fill-rule="evenodd"></path></g></svg></span></a>',linkedin:'<a role="button" onclick="openLinkedIn()" tabindex="1"><span class="share_wrapper">Share to LinkedIn</span><span class="icon_wrapper"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32"><g><path d="M26 25.963h-4.185v-6.55c0-1.56-.027-3.57-2.175-3.57-2.18 0-2.51 1.7-2.51 3.46v6.66h-4.182V12.495h4.012v1.84h.058c.558-1.058 1.924-2.174 3.96-2.174 4.24 0 5.022 2.79 5.022 6.417v7.386zM8.23 10.655a2.426 2.426 0 0 1 0-4.855 2.427 2.427 0 0 1 0 4.855zm-2.098 1.84h4.19v13.468h-4.19V12.495z" fill-rule="evenodd"></path></g></svg></span></a>',pinHeader:'\t<div id="pinterest_header"><div><div>'+pinterestSvg+'</div></div><h1>Choose a Pin to save<span onclick="closePinterest()">&#10006;</span></h1></div>',thumb:'<div><img src="{{imageUrl}}"><span role="button" onclick="callPinterest(this)" data-index="{{index}}"><svg width="20px" height="20px" viewBox="0 0 20 20" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><g><path d="M0.4830769,0 C0.4830769,0.7721429 1.3253846,1.4328571 2.1376923,1.7842857 L2.1376923,7.3571429 C0.7584615,8.1428571 0,9.7535714 0,11.4285714 L4.2023077,11.4285714 L4.2015385,17.2121429 C4.2015385,17.2121429 4.3415385,19.6592857 5,20 C5.6576923,19.6592857 5.7976923,17.2121429 5.7976923,17.2121429 L5.7969231,11.4285714 L10,11.4285714 C10,9.7535714 9.2415385,8.1428571 7.8615385,7.3571429 L7.8615385,1.7842857 C8.6746154,1.4328571 9.5161538,0.7721429 9.5161538,0 L0.4830769,0 L0.4830769,0 Z" fill="#FFFFFF"></path></g></svg><div>Save</div></span><div class="thumb_dimensions">{{dimensions}}</div></div>'},colours={facebook:[59,89,152],twitter:[29,161,242],pinterest:[203,33,36],googleplus:[220,78,65],linkedin:[0,119,181]},socialButtons={defaultOptions:{orientation:"right",distanceFromTop:30,buttonMobileSize:20,buttonDesktopSize:25,buttonRoundness:0,buttonGreyscale:!1,closeBtn:!0,socials:{facebook:{enabled:!0},twitter:{enabled:!0},googleplus:{enabled:!1},pinterest:{enabled:!1},linkedin:{enabled:!1}}}},defineShortPageUrl=function(t){return new Promise(function(e,o){var n=socialButtons.options.googleAPIKey;if(void 0!==n){var s=new XMLHttpRequest;s.onreadystatechange=function(){4===this.readyState&&200===this.status?e(JSON.parse(this.responseText).id):4===this.readyState&&400===this.status&&e(t)};var i="https://www.googleapis.com/urlshortener/v1/url?key="+n,a=JSON.stringify({longUrl:t});s.open("POST",i,!0),s.setRequestHeader("X-Requested-With","XMLHttpRequest"),s.setRequestHeader("Content-Type","application/json"),s.setRequestHeader("Accept","application/json"),s.setRequestHeader("Content-length",a.length),s.setRequestHeader("Connection","close"),s.onerror=function(){o(Error("Network Error"))},s.send(a)}else e(t)})},openFacebook=function(t,e,o,n){return t=void 0!==t?t:getContentByMetaTagName("og:title","property"),e=void 0!==e?e:getContentByMetaTagName("og:url","property"),o=void 0!==o?o:window.location.href,n=void 0!==n?n:getContentByMetaTagName("og:description","property"),FB.ui({method:"feed",name:t,link:e,caption:o,description:n})},openTwitter=function(t,e,o,n){t=void 0!==t?t:encodeURI(socialButtons.options.socials.twitter.text),e=void 0!==e?e:encodeURI(socialButtons.options.socials.twitter.hashtag),o=void 0!==o?o:window.location.href,n=void 0!==n?n:encodeURI(socialButtons.options.socials.twitter.screenName),defineShortPageUrl(o,socialButtons.options.googleAPIKey).then(function(o){return window.open("https://twitter.com/intent/tweet?text="+t+"&hashtags="+e+"&url="+o+"&screen_name="+n,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600")})},openPinterest=function(){body.style.overflow="hidden",(backDrop=document.createElement("div")).id="backdrop",backDrop.innerHTML+=templates.pinHeader;var t=document.createElement("div");t.id="masonry-wall",backDrop.appendChild(t);for(var e=0;e<images.length;e++){var o={};o.Url=images[e].currentSrc,o.width=images[e].width,o.height=images[e].height,images[e].alt.length>0?o.text=images[e].alt:images[e].title.length>0?o.text=images[e].title:o.text=getContentByMetaTagName("description","name");var n=document.createElement("span");n.className="brick";var s=document.createElement("div");s.innerHTML=templates.thumb.replace("{{imageUrl}}",o.Url).replace("{{index}}",e).replace("{{dimensions}}",o.width+" x "+o.height);var i=document.createElement("div");i.className="thumb_text",i.innerHTML="<span>"+o.text+"</span>",s.appendChild(i);var a=document.createElement("div");a.className="thumb_link",a.innerHTML="<span>"+window.location.href.split("//")[1]+"</span>",s.appendChild(a),n.appendChild(s),t.appendChild(n)}body.appendChild(backDrop),mason.grabTrowel(236,15,15),mason.options.underConstruction=!0},callPinterest=function(t){var e=parseInt(t.attributes["data-index"].value);return window.open("https://www.pinterest.com/pin/create/button/?url="+encodeURIComponent(window.location.href)+"&media="+images[e].src,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=750")},closePinterest=function(){backDrop.remove(),mason.options.underConstruction=!1,body.style.overflow="auto"},openGooglePlus=function(t){return void 0===t&&(t=void 0!==socialButtons.options.socials.googleplus.url?socialButtons.options.socials.googleplus.url:window.location.href),window.open("https://plus.google.com/share?url="+t,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600")},openLinkedIn=function(){return void 0===socialButtons.options.socials.linkedin.url&&(socialButtons.options.socials.linkedin.url=window.location.href),window.open("https://www.linkedin.com/cws/share?url="+socialButtons.options.socials.linkedin.url,"","menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600")},createButton=function(t){if("facebook"===t){var e=socialButtons.options.socials.facebook.fbAppId;void 0!==e&&0!==e.length||(e=getContentByMetaTagName("fb:app_id","property")),void 0!==e&&(window.fbAsyncInit=function(){FB.init({appId:e,xfbml:!0,version:"v1.0"}),FB.AppEvents.logPageView()},function(t,e,o){var n,s=t.getElementsByTagName(e)[0];t.getElementById(o)||((n=t.createElement(e)).id=o,n.src="//connect.facebook.net/en_GB/sdk.js",s.parentNode.insertBefore(n,s))}(document,"script","facebook-jssdk"))}return socialButtons[t+"_button"]=document.createElement("div"),socialButtons[t+"_button"].id=t+"_button",socialButtons[t+"_button"].innerHTML=templates[t],socialButtons.options.buttonGreyscale&&colours[t].fill(Math.ceil(.299*colours[t][0]+.587*colours[t][1]+.114*colours[t][2])),socialButtons[t+"_button"].children[0].style["background-color"]="rgb("+colours[t][0]+", "+colours[t][1]+", "+colours[t][2]+")",socialButtons[t+"_button"]},setButtonSize=function(){for(var t=buttonContainer.getElementsByTagName("svg"),e=body.clientWidth>768?socialButtons.options.buttonDesktopSize:socialButtons.options.buttonMobileSize,o=0;o<t.length;o++)t[o].style.width=e+"px"};window.onresize=function(){setButtonSize()};var setBorderRadius=function(t,e){var o="right"===socialButtons.options.orientation?"left":"right";t.firstChild.firstChild.style["border-top-"+o+"-radius"]=e+"px","closeBtn-soc-share"!=t.lastChild.id?t.lastChild.firstChild.style["border-bottom-"+o+"-radius"]=e+"px":t.lastChild.previousSibling.firstChild.style["border-bottom-"+o+"-radius"]=e+"px";var n="#social_button_container > div > a:hover { border-top-"+o+"-radius: "+e+"px; border-bottom-"+o+"-radius: "+e+"px }",s=document.createElement("style");s.appendChild(document.createTextNode(n)),t.appendChild(s)},create_close_btn_html=function(){var t="right"===socialButtons.options.orientation?"left":"right",e=document.createElement("div");return e.id="closeBtn-soc-share",e.className="soc-share-control",e.innerHTML="right"===t?'<div class="arrow-close right"></div>':'<div class="arrow-close left"></div>',e};socialButtons.init=function(t){void 0!==t&&"object"!=typeof t||(socialButtons.options=copyObject(socialButtons.defaultOptions),updateObject(t,socialButtons.options),isNaN(socialButtons.options.distanceFromTop)||"left"!==socialButtons.options.orientation&&"right"!==socialButtons.options.orientation||isNaN(socialButtons.options.buttonMobileSize)||isNaN(socialButtons.options.buttonDesktopSize)||isNaN(socialButtons.options.buttonRoundness)||socialButtons.options.socials.twitter.enabled&&(void 0===socialButtons.options.socials.twitter.text||void 0===socialButtons.options.socials.twitter.hashtag)||(void 0===socialButtons.options.socials.twitter.screenName&&(socialButtons.options.socials.twitter.screenName=socialButtons.options.socials.twitter.hashtag),(buttonContainer=document.createElement("div")).id="social_button_container",buttonContainer.className="social_buttons_"+socialButtons.options.orientation,buttonContainer.style.top=socialButtons.options.distanceFromTop+"vh",socialButtons.options.socials.facebook.enabled&&buttonContainer.appendChild(createButton("facebook")),socialButtons.options.socials.twitter.enabled&&buttonContainer.appendChild(createButton("twitter")),socialButtons.options.socials.googleplus.enabled&&buttonContainer.appendChild(createButton("googleplus")),socialButtons.options.socials.pinterest.enabled&&buttonContainer.appendChild(createButton("pinterest")),socialButtons.options.socials.linkedin.enabled&&buttonContainer.appendChild(createButton("linkedin")),1==socialButtons.options.closeBtn&&buttonContainer.appendChild(create_close_btn_html()),setButtonSize(),socialButtons.options.buttonRoundness!==socialButtons.defaultOptions.buttonRoundness&&setBorderRadius(buttonContainer,socialButtons.options.buttonRoundness),body.appendChild(buttonContainer)))};